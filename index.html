<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>ArgenWAMP - Mapas de Argentina a partir de una hoja de cálculo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ArgenWAMP - Mapas de Argentina a partir de una hoja de cálculo">
    <meta name="author" content="osk">

    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=News+Cycle:400,700|Merriweather:400,300,700">    
    <link rel="shortcut icon" href="img/ico/favicon.png">
    <style type="text/css">
      .hero-unit {
        padding: 5px;
      }
      .hero-unit h1 {
        font-family: 'News Cycle',sans-serif;
        text-rendering: optimizelegibility;        
      }
      .hero-unit h2 {
        font-family: 'Merriweather',serif !important;        
        text-rendering: optimizelegibility;
      }

      span.Vis  {
        color: #FFF;
        font-size: .9em;
        line-height: 70px;
        display: inline-block;
        background-color: #0088cc;
        padding: 10px;
        padding-top: 0px;
        padding-bottom: 2px;
        position: relative;
        margin-left: .1em;
        bottom: .1em;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
      }

      #mapa img {
        max-width:none;
      }

      .footer {
        text-align: center;
        padding: 30px 0;
        margin-top: 70px;
        border-top: 1px solid #e5e5e5;
        background-color: #f5f5f5;
        color:inherit;
      }
      .footer p {
        margin-bottom: 0;
        color: #777;
        background:inherit;
      }
      .footer-links {
        margin: 10px 0;
      }
      .footer-links li {
        display: inline;
        padding: 0 2px;
      }
      .footer-links li:first-child {
        padding-left: 0;
      }

    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->

    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="lib/jquery.scrollTo-1.4.3.1-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-url-parser/2.3.1/purl.min.js"></script>      

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="http://www.ign.gob.ar/argenmap/argenmap.jquery/argenmap.jquery.js"></script>
    <script type="text/javascript">
      
    </script>
  </head>

  <body>
    <div class="container-fluid">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li class="active"><a href="#descripcion">Descripción</a></li>
          <li><a href="#generator">Creá tu mapa</a></li>
          <li><a href="#ejemplos">Ejemplos</a></li>            
        </ul>
      </div>
    </div>

    <header class="hero-unit" style="color:inherit;background-color:white;border-top:1px solid #ccc;border-bottom:1px solid #ccc;">
      <div class="container-fluid text-center">
        <h1>Argen<span class="Vis">WAMP</span><br/></h1>
        <h2><span class="wamp hidden-tablet hidden-phone">Web Anamorphic Maps Player</span><br/>
          <small>Creá un mapa web de Argentina para incrustar en tu sitio <span class="strong">a partir de una hoja de cálculo </span></small>
        </h2>
        <a href="#generator" class="btn btn-large btn-success">Creá tu mapa ahora &raquo;</a>
      </div>
    </header>  
    <div class="container">
      <section>
        <div class="row-fluid">
          <div class="span12">
            <p >Este mapa, a partir de <a target="_blank" href="https://drive.google.com/previewtemplate?id=0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc&mode=public">esta spreadsheet.</a></p>
            <iframe title="mapa creado con argenwamp" style="width:100%;border:1px dashed #ccc" src='iframe.html?source=0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc;width=600&height=600' height='350' frameborder='0'></iframe>                
          </div>
        </div>
      </section>
    </div><!--container-->
    <div class="container">
      <section id="descripcion">
        <div class="page-header">
          <h2>Descripción</h2>
        </div>

        <p class="lead">
          ArgenWamp es una herramienta open source que te permite construir mapas con datos
          guardados en una Google Spreadsheet.
        </p>
        <div class="row-fluid">
          <div class="span6">
            <ul>
                <li><strong>Este mapa va a estar siempre online</strong> tengas o no servidor porque se basa en la infraestructura de Google Docs.</li>
                <li>Podés incrustar el mapa en tu web o compartir el link</li>.
            </ul>
          </div><!--span6-->
          <div class="span6">
            <p>
              Puede traer datos de múltiples fuentes y soporta:
            </p>
            <ul>
              <li>Capas WMS</li>
              <li>Capas KML ya publicadas en la web</li>
              <li>Marcadores a partir de coordenadas o Geocoding (basado en nominatim de OpenStreetMap).</li>
            </ul>
          </div><!--span6-->          
        </div><!--row-fluid-->
        <div class="alert">
          <h3><em>Criteria</em></h3>
          <ul>
            <li>
            Muchas personas están acostumbradas a las planillas de cálculo como estructuras
            de datos.
            </li>
            <li>
              El código de esta herramienta consume JSON.
            </li>
            <li>
              Google Ofrece por cada documento publicado una url con el documento JSON que representa
            al documento spreadsheet. Es por eso que esta herramienta sirve para consumir JSON
            de otra fuente.
            </li>
            <li>
              <strong>Sí, los "datos" quedan guardados en google</strong>. Pero, no hace falta guardar los datos más importantes
              del mundo en este tipo de mapas.
            </li>
            <li>
               Es una herramienta útil para bocetar mapas a partir de KML o servicios WMS (datos ya publicados conforme a estándares abiertos). 
             </li>
            <li>
              Este proyecto se propone acercar los servicios WMS y los KML ya publicados a quienes no dispongan de mayores habilidades informáticas
              que el manejo del una planilla de cálculos y una cuenta de Google. 
            </li>
            <li>
              Esta herramienta está construída como 2 html y una plugin de jquery. que
              interpreta json. Sea cual sea el origen (Google Docs, una URL de un documento JSON o un objeto javascript)
            </li>
          </ul>
        </div><!--alert-->
      </section>      
      <section id="generator">
        <div class="page-header">
          <h2 >Construí tu mapa <small>En tu sitio o blog en poco tiempo.</small></h2>
        </div>
        <div class="row-fluid">
          <div class="span4">
            <h3>Paso 1<br/>
            <small>
              Creá una nueva spreadsheet a partir de la plantilla
            </p>
            </small>          
  	  </h3>
          </div><!--span4-->
          <div class="span8">
            <p>
              <em>Creá un nuevo mapa usando la plantlla. Es tan simple como completar campos de título, ubicación y/o URLs en las columnas apropiadas.</em>
            </p>
            <p>
              <a target="_blank" class="btn btn-primary" href="https://drive.google.com/previewtemplate?id=0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc&mode=public">Plantilla de Google Spreadsheet &raquo;</a>
            </p>
          </div><!--span8-->
        </div><!--row-fluid-->
        <hr/>
        <div class="row-fluid">
          <div class="span4">
            <h3>Paso 2<br/>         
            <small>
              Publicala en la web
            </small>
          </h3>
          </div><!--span4-->
          <div class="span8">
            <div class="alert alert-success alert-block">
              <h4>¿Cómo se publica una spreadshet?</h4>
              <ul>
                <li>
                  En el menú Archivo, seleccioná <em>"Publicar en la Web"</em>.
                </li>
                  En la siguiente ventana, tildá la casilla <em>"Volver a publicar automáticamente cuando se realicen los cambios"</em>
                </li>
                <li>
                  Asegurate de que todas las demás casillas estén destildadas.
                </li>
                <li>Hacé click en <em>"Iniciar la publicación"</em>. Al hacer esto, 
                  te da una URL para incrustar la spreadsheet en tu archivo HTML.
                </li>
              </ul>
            </div>
            <div class="row-fluid">
              <div class="span6">
                <img alt="imagen que remarca dónde se encuentra la opción de publiar en la web en Google Docs" src="img/publicarenweb.png" />
              </div><!--span6-->
              <div class="span6">
                <img alt="imagen que remarca dónde está el link permanente para un google doc publicado" src="img/codigoembed.png" />
              </div><!--span6-->            
            </div>
          </div><!--span8-->
        </div><!--row-fluid-->      
        <hr />
        <div class="row-fluid">
          <div class="span4">
            <h3>Paso 3<br/>
              <small>
              Pegá la URL de tu spreadsheet
            </small>
            </h3>          
            <p>
              <em>Después de copiar la URL que google te da, podés copiar el</em> <strong>Código para incrustar</strong> <em>y pegarlo en tu sitio (tal cual como
              harías para incrustar un video de Youtube por ejemplo).</em>
            </p>
          </div><!--span4-->
          <div class="span8">
            <form id="create-form" class="form-horizontal">
              <fieldset >
                <legend>Generador de mapa</legend>
                <!-- Required elements for embed-->
                <!-- Embed Source-->
                <!-- Embed Optional-->
                <div class="control-group">
                  <label for="embed-source-url" class="control-label"><strong>URL de tu Google Spreadsheet</strong></label>
                  <div class="controls">
                    <input type="text" id="embed-source-url">
                    <p class="help-inline"><em>Asegurate de haberla publicado.</em></p>
                  </div>
                </div>
                <!-- Size-->
                <div class="control-group">
                  <label  for="embed-width" class="control-label">Tamaño</label>
                  <div class="controls">
                    <div class="input-prepend"><span class="add-on">Ancho</span>
                      <input type="text" value="100%" placeholder="100%" id="embed-width" class="input-mini">
                    </div>
                  <label  for="embed-height" style="display:none">Alto</label>
                    <div class="input-prepend"><span class="add-on">Alto</span>
                      <input type="text" value="500" placeholder="500" id="embed-height" class="input-mini">
                    </div>
                  </div>
                </div>
                <!-- Embed Optional-->
                <div class="control-group">
                  <label for="embed-code" class="control-label"> <strong>Código para incrustar</strong></label>
                  <div class="controls">
                    <textarea  style="width: 100%; height: 100px; min-height: 110px; max-height: 300px; resize: none; font-family: 'Courier New',monospace;font-size:.8em" id="embed-code">
&lt;iframe src='http://argenwamp.com.ar/iframe.html?source=0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc' width='600' height='500' frameborder='0'&gt;&lt;/iframe&gt;</textarea>
                    <p><em>Copiá este código y pegalo en donde quieras que tu mapa aparezca.</em>
                    </p>
                    <hr/>
                    <div style="margin-top:20px;"><input id="iframe-preview-button" type="submit" class="btn btn-primary" value="Previsualizar" />&nbsp;<a href="iframe.html?source=0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc" target="_blank" id="preview-embed-link" >Link a la previsualización</a></div>
                  </div>
                </div>
              </fieldset>
            </form>
          </div><!--span8-->
        </div><!--row-fluid-->       
      </section>
      <section style="display:none" id="preview-embed">
        <div class="page-header">
          <h2>Previsualización</h2>
        </div>        
        <div class="row-fluid" >
          <div class="span12" >
            <div id="preview">
            </div>
          </div>
        </div>
      </section>
      <section id="ejemplos">
        <div class="page-header">
          <h2>Ejemplos</h2>
        </div>
        <h3>Estos son algunos ejemplos simples creados con argenwamp</h3>
        <div class="row-fluid" >
          <ul class="thumbnails">
            <li class="span3">
              <div class="thumbnail">
                <img alt="preview del mapa de unundaciones en La Plata de Abril 2013"  src="img/ejemplos/inundacioneslaplata.jpg">
                <div class="caption">
                  <h4><a target="_blank" href="http://argenwamp.com.ar/iframe.html?source=0AqdTbs1TYvZKdEk2WWZXNzNVQWN6RzhsY0x0eG0yUVE">Inundaciones La Plata</a></h4>
                  <p>Combina dos capas WMS de imágenes satelitales y archivos KML.</p>
                </div>
              </div>
            </li>
            <li class="span3">
              <div class="thumbnail">
                <img alt="preview de mapa con distribución de pueblos originarios en Argentina"  src="img/ejemplos/pueblosoriginarios.jpg">
                <div class="caption">
                  <h4><a target="_blank" href="http://argenwamp.com.ar/iframe.html?source=0AqdTbs1TYvZKdFB6b3lyRzFCZ0xwODRGS0VMQW9TNGc">Pueblos originarios</a></h4>
                  <p>Usa un KML online que proviene desde el servidor de mapas de Mapa Educativo.</p>
                </div>
              </div>
            </li>            
            <li class="span3">
              <div class="thumbnail">
                <img alt="preview de mapa con anuncios de delito"  src="img/ejemplos/delitos.jpg">
                <div class="caption">
                  <h4><a target="_blank" href="http://argenwamp.com.ar/iframe.html?source=0AnwT7fFVm7qsdHhvLVNVN3pRWFM3ZVVOQ19rZ2trUGc">Anuncios de delitos en vivo</a></h4>
                  <p>Combina dos recursos JSON online, de denuncias y de comisarías, tomados por un script incluído en la spreadsheet.</p>                  
                </div>
              </div>
            </li>
            <li class="span3">
              <div class="thumbnail">
                <img alt="preview de mapa con datos de INTA"  src="img/ejemplos/cuencasinta.jpg">
                <div class="caption">
                  <h4><a target="_blank" href="http://argenwamp.com.ar/iframe.html?source=0AqdTbs1TYvZKdHZkZUc5cHlyVVdlZW1EVy16NWV3MUE">Cuencas hídricas según INTA</a></h4>
                  <p>Muestra una capa WMS de cuencas hídricas proveniente del Instituto Nacional de Tecnología Agropecuaria.</p>                  
                </div>
              </div>
            </li>              
          </ul>
        </div>
      </section>      
    </div>
    <footer class="footer">
      <div class="container">
        <div class="row-fluid">
          <div class="span12">
            @osk 2013 . Desarrollado para y durante el <a target="_blank" href="http://datospublicos.gob.ar/hackatonprogramar/">Hackatón programAR</a>.<br/>
            <a target="_blank" href="http://github.com/oskosk/argenwamp">Repo en Github</a>.            
          </div>  
        </div>
      </div>
    </footer>
    <script type="text/javascript">
      $(document).ready(function() {

        acronyms();

        $('#create-form').submit(function() {
          var id = '';
          var google_docs_url = $('#embed-source-url').val();

            console.log(google_docs_url);
          var iframe = "&lt;iframe src='{url_embed}?source={source}&amp;' width='{width}' height='{height}' frameborder='0'&gt;&lt;/iframe&gt;";
          var url_embed = 'http://argenwamp.com.ar/iframe.html';
          if ( google_docs_url) {
            id = $.url(google_docs_url).param('key');
          } else {
            id = '0AqdTbs1TYvZKdFlQVDNBdFVKSFZzci04UE5UYkpmYmc';
          }          
          
          var width = $('#embed-width').val();
          var height = $('#embed-height').val();
          iframe = iframe.replace('{url_embed}', url_embed);
          iframe = iframe.replace('{source}', id);
          iframe = iframe.replace('{width}', width );
          iframe = iframe.replace('{height}', height );
          $('#embed-code').html(iframe);
          $('#preview-embed-link').attr('href', url_embed + '?source=' + id);
          $('#preview-embed').fadeIn('fast', function() {
            $('#preview').html(iframe);
            $('#preview').html($('#preview').text());
            $.scrollTo('#preview-embed', 500);            
          });


          return false;
        })

        
      });
      
      function acronyms()
      {
				var variaciones = [
					'Aryentain Web Anamorphic Maps Player',
					'Wireless Automagic Map Preparer',
					'Worthy Advanced-Maps Polyglot',
					'Wireframing Assistive Maps Producer',
					'We\'re All Map Publishers',
					'Web Assistant for Maps by the People',
					'Web Apps Map Partner',
					'Work on Any Map Practically',
					'Website-less Almighty Map Presenter',
					'When All is over Maps will Prevail',
					'Wipe Away your Map Preconcepts',
					'Wish A Map Playfully',
					'Wise Ally for Maps Publication',
					'Where All Mapmakers have Perished',
					'What Any Mapper Prophesied',
					'We\'re All Map Programmers',
					'Work on Any Map Painlessly',
					'Wings Against Mapping Problems',
					'Write A Map Patriotically',
					'Work on A Map Promptly',
          'Wonderful Approach on Maps for Periodistas'
				];
			
			setInterval(function () {
				var i = 1 + Math.floor(Math.random() * (variaciones.length-1));
				$('h2 .wamp').fadeOut(function () {
					$('h2 .wamp').text(variaciones[i]);
					$('h2 .wamp').fadeIn();
				});
			}, 3000);
			
		}      
      
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42952343-1', 'argenwamp.com.ar');
  ga('send', 'pageview');

</script>
  </body>

</html>
